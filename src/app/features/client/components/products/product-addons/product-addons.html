<div class="product-addons">
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    <div *ngFor="let addon of addons" class="addon-item">
      <p-card>
        <ng-template pTemplate="header">
          <img
            [src]="addon.image_url"
            [alt]="addon.name"
            class="w-full h-48 object-contain mx-auto"
          />
        </ng-template>
        <div class="text-center">
          <h3 class="font-semibold text-lg mb-2">{{ addon.name }}</h3>
          <p class="text-gray-600 mb-3">{{ addon.description }}</p>
          <p class="text-pink-600 font-bold text-xl mb-3">
            KES {{ addon.price }}
          </p>
          <p-checkbox
            [(ngModel)]="addon.selected"
            [binary]="true"
            label="addon.selected ? 'Added' : 'Add to order'"
            (onChange)="onAddonToggle(addon)"
            class="w-full"
          >
          </p-checkbox>
        </div>
      </p-card>
    </div>
  </div>

  <div class="mt-6 text-center" *ngIf="getSelectedAddons().length > 0">
    <div class="bg-pink-50 p-4 rounded-lg">
      <h4 class="font-semibold mb-2">Selected Add-ons:</h4>
      <div class="space-y-1">
        <div
          *ngFor="let addon of getSelectedAddons()"
          class="flex justify-between"
        >
          <span>{{addon.name}}</span>
          <span class="font-semibold">KES {{addon.price}}</span>
        </div>
      </div>
      <div class="border-t pt-2 mt-2">
        <div class="flex justify-between font-bold text-lg">
          <span>Total Add-ons:</span>
          <span class="text-pink-600">KES {{getTotalAddonsPrice()}}</span>
        </div>
      </div>
    </div>
  </div>
</div>
